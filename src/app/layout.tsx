import './globals.css'
import type { Metadata } from 'next'
import HomeNav from '@/components/header/HomeNav';
import Link from 'next/link';
import Introduce from '@/components/header/Introduce';
import HeaderBg from '#/profile/bg_header.jpg';
import { initializeApp } from 'firebase/app';
import { getAnalytics } from 'firebase/analytics';
import { getStorage, ref } from 'firebase/storage';

const firebaseConfig = {
  apiKey: process.env.FIREBASE_APIKEY,
  authDomain: process.env.FIREBASE_DOMAIN,
  projectId: process.env.FIREBASE_PJT_ID,
  storageBucket: process.env.FIREBASE_STORAGE_BUCKET,
  messagingSenderId: process.env.FIREBASE_MESSAGE_ID,
  appId: process.env.FIREBASE_APP_ID,
  measurementId: process.env.FIREBASE_MEASURE_ID,
};

// Initialize Firebase
export const app = initializeApp(firebaseConfig);
export const storage = getStorage(app);
export const storageRef = {
  article : ref(storage, 'article'),
}

export const metadata: Metadata = {
  title: 'practice',
  description: 'Generated by create next app',
}

export default async function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  const src = HeaderBg.src;
  
  return (
    <html lang="en">
      <body className='flex flex-row gap-0 font-Pretendard font-normal text-lg text-white'>
        <header
          className={`hidden flex-col w-96 h-screen items-center gap-8 flex-none top-0 sticky 2xl:flex`}
          style={{
            backgroundImage: `url('${src}')`,
            backgroundRepeat: 'no-repeat',
            objectFit: 'cover',
            backgroundPositionX: '50%'
          }}
        >
          <Introduce />
          <HomeNav />
        </header>
        <main className='w-full h-fit'>
          {children}
        </main>
        <Link href='/writepage' className={'fixed right-8 bottom-8 overflow-hidden rounded-2xl bg-blue-500 px-8 py-4 text-white font-bold hover:bg-slate-700 cursor-pointer'}>
          {"글 작성"}
        </Link>
      </body>
    </html>
  )
}
